Задание
Вопросы по заданию
В этом разделе можно задать вопросы и получить ответ.
Задание по дисциплине

Дисциплина Теория и практика многопоточности

Тема Deadlock, livelock, starvation

Форма проверки Задание с самопроверкой

Имя преподавателя Василий Москалев

Время выполнения 3 часа

Цель задания

Научиться моделировать и диагностировать Deadlock, Livelock и Starvation в многозадачных приложениях.
Получить навыки использования инструментов, таких как jstack, для анализа блокировок в Java-программах и предотвращения этих проблем.
Инструменты для выполнения ДЗ

IntelliJ IDEA Community / Giga IDE
Google / Яндекс документ
Правила приёма работы

Выполняйте задание по этапам.
Разместите ссылку на выполненное задание в личный кабинет
Важно: убедитесь, что доступ к документу открыт.

Критерии оценки
Задание считается выполненным, если:

прикреплена ссылка на файл с выполненным заданием;
доступ к документу открыт;
Задание не выполнено, если:

файл с заданием не прикреплён или отсутствует доступ по ссылке.
Дедлайн 7 октября
 
 

Описание задания
Реализация Deadlock:
Напишите программу, создающую два потока, которые захватывают два ресурса (resourceA и resourceB) в противоположном порядке.
Поток 1: сначала захватывает resourceA, затем resourceB.
Поток 2: сначала захватывает resourceB, затем resourceA.
Убедитесь, что программа зависает (Deadlock), когда оба потока ждут друг друга, не освобождая ресурсы.
 
2. Использование jstack для диагностики Deadlock:

После того как программа зависнет, используйте команду jstack <pid> или kill -3 для создания дампа потоков.
Проанализируйте дамп и найдите информацию о Deadlock. Определите, какие потоки заблокированы, и в каком состоянии они находятся.
Приложите в отчет информацию из дампа потоков и поясните, как это связано с Deadlock.
 

Моделирование Livelock и Starvation:
После демонстрации Deadlock, создайте примеры для моделирования Livelock и Starvation.
Livelock: Потоки активно меняют свои состояния, но не двигаются вперед в выполнении задач. Это может быть реализовано, например, через перезапуск задач, если ресурс занят.
Starvation: Один или несколько потоков никогда не получают ресурсы из-за приоритетов других потоков. Реализуйте ситуацию, где один поток может оставаться в ожидании, пока другие получают ресурсы.

Предотвращение Deadlock, Livelock и Starvation:
Объясните и реализуйте стратегии для предотвращения:
Deadlock: упорядоченная аллокация ресурсов (например, всегда захватывать ресурсы в одном и том же порядке).
Livelock: использование тайм-аутов или другие механизмы для выхода из бесконечных циклов.
Starvation: использование механизмов, таких как Thread.yield() или балансировка приоритетов потоков, чтобы обеспечить равномерный доступ к ресурсам.

Анализ и отчет:
Оформление отчёта:

Составьте отчёт, в котором:

Описание каждого этапа выполнения задания.
Промежуточные результаты (например, выводы по Deadlock, Livelock и Starvation).
Дамп потоков с использованием jstack и объяснение Deadlock.
Примеры корректных и некорректных ситуаций с многопоточными операциями.
Итоговые выводы о предотвращении Deadlock, Livelock и Starvation в многозадачных приложениях.
Ссылку на отчет прикрепите в личном кабинете на платформе.

 
Чек-лист самопроверки:

Реализован Deadlock с двумя потоками, захватывающими два ресурса в противоположном порядке.
Использован jstack для диагностики Deadlock, дамп потоков проанализирован.
Составлен отчет с описанием каждого этапа выполнения задания.
Ссылка на отчет прикреплена в личном кабинете.
