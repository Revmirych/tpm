Задание
Вопросы по заданию
В этом разделе можно задать вопросы и получить ответ.
Домашнее задание по теме 9
Дисциплина: Управление производительностью приложений.

Тема: Оптимизация I/O и сетевых операций в Java.

Форма проверки: задание с самопроверкой, это задание преподаватель не проверяет, но мы можем выборочно посмотреть некоторые работ на курсе.

Имя преподавателя: Василий Москалев

Примерное время выполнения: 3 часа.

Цель задания:

применить три подхода к работе с файлами в Java — RandomAccessFile, FileChannel и memory-mapped files (MappedByteBuffer) — и оценить их влияние на latency, потребление памяти и эффективность обработки больших объёмов данных.
Инструменты для выполнения задания:

Java (любая IDE, например, IntelliJ IDEA или Eclipse);
JDK 17 или выше;
Java NIO (FileChannel, ByteBuffer, MappedByteBuffer);
RandomAccessFile (java. io);
JUnit / Mockito (для юнит-тестирования доменного ядра без Spring);
Средства замеров времени (System.nanoTime / Instant/Duration или JMH);
Профилировщик памяти: VisualVM / JMC (Java Mission Control) или замеры через Runtime.totalMemory() / freeMemory();
Средства логирования.
Правила приёма работы:

Выполняйте задание по этапам.
Разместите ссылку на выполненное задание в личный кабинет. Убедитесь, что доступ к документу открыт.
Дедлайн: рекомендуем выполнить задание к следующему вебинару по дисциплине.

 

Описание задания:
1. Подготовьте тестовый набор данных:

Сгенерируйте или используйте реальные данные из вашего проекта (например, 50 000–100 000 записей о курсах валют или ценах)
Сохраните их в текстовом или бинарном формате
2. Реализуйте три способа записи и/или чтения данных:

Способ A: через RandomAccessFile (произвольный доступ, покажите запись по смещению)
Способ B: через FileChannel (с использованием ByteBuffer, write(), force())
Способ C: через memory-mapped file (FileChannel.map() → MappedByteBuffer)
3. Проведите замеры для каждого способа:

Время записи 10 000 / 50 000 / 100 000 записей
Время последовательного и (если применимо) случайного чтения
Пиковое потребление памяти (можно через VisualVM или Runtime.totalMemory())
4. Проанализируйте результаты:

Какой способ оказался быстрее при последовательной записи?
Как memory-mapped files влияют на использование RAM?
В каких сценариях RandomAccessFile предпочтительнее?
Возникли ли проблемы с синхронизацией, безопасностью или очисткой ресурсов?
 

Оформление отчёта:
корректность подготовки тестового набора данных (объём, формат, воспроизводимость генерации);
корректность реализации трёх способов работы с файлами:
RandomAccessFile (включая демонстрацию записи по смещению),
FileChannel + ByteBuffer (write(), force()),
memory-mapped file (FileChannel.map → MappedByteBuffer);
сопоставимость замеров между способами (одинаковые объёмы данных и условия прогонов);
результаты измерений времени записи для 10 000 / 50 000 / 100 000 записей;
результаты измерений последовательного и (если применимо) случайного чтения;
оценку пикового потребления памяти и интерпретацию влияния memory-mapped подхода на RAM;
выводы по применимости каждого способа в реальных сценариях и замеченные риски (ресурсы, синхронизация, безопасность, очистка).
Ссылку на отчёт необходимо прикрепить в личном кабинете на платформе.

 

Чек-лист самопроверки:
Подготовлен тестовый набор данных (50 000–100 000 записей) и зафиксирован формат хранения (текстовый/бинарный).
Реализован способы: RandomAccessFile, FileChannel + ByteBuffer, memory-mapped file.
Проведены замеры времени записи для 10 000 / 50 000 / 100 000 записей для каждого способа, последовательного чтения для каждого способа, случайного чтения/доступа там, где это применимо (как минимум для RandomAccessFile).
Зафиксировано пиковое потребление памяти (VisualVM/JMC или через Runtime) и сравнение между способами.
Выполнен анализ: какой метод быстрее при последовательной записи и почему.
Описано влияние memory-mapped файлов на RAM и особенности их использования.
Описаны сценарии, где RandomAccessFile предпочтительнее, и отмечены возможные проблемы (ресурсы, синхронизация, безопасность, закрытие файлов/каналов).
Написан краткий отчет с описанием использованных инструментов и результатов.
Ссылка на отчет прикреплена в личном кабинете.
