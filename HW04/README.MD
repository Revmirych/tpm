Задание
Вопросы по заданию
В этом разделе можно задать вопросы и получить ответ.
Задание по дисциплине

Дисциплина Теория и практика многопоточности

Тема Синхронизация потоков

Форма проверки Задание с самопроверкой

Имя преподавателя Василий Москалев

Время выполнения 3 часа

Цель задания

Научиться применять синхронизацию потоков с использованием synchronized, wait(), notify().
Получить навыки защиты от гонок данных и предотвращения deadlock в многопоточном приложении.
Инструменты для выполнения ДЗ
IntelliJ IDEA Community / Giga IDE
Google / Яндекс документ

Правила приёма работы

Выполняйте задание по этапам.
Разместите ссылку на выполненное задание в личный кабинет
Важно: убедитесь, что доступ к документу открыт.

Критерии оценки
Задание считается выполненным, если:

прикреплена ссылка на файл с выполненным заданием;
доступ к документу открыт;
Задание не выполнено, если:

файл с заданием не прикреплён или отсутствует доступ по ссылке.
Дедлайн 23 сентября

Описание задания
Реализация банковского аккаунта:
 Реализуйте многопоточную систему сбора, обработки или агрегации данных, в которой несколько потоков одновременно работают с общими ресурсами (счётчики, списки, статистика и т.д.).

 Необходимо обеспечить корректную синхронизацию, чтобы избежать гонок данных race condition, deadlock или livelock

– Создайте класс DataCollector (или аналогичный по смыслу в вашем проекте), который будет хранить общие данные, например:

– Счётчик обработанных элементов (processedCount)

 Реализовать методы

collectItem(Item item) — добавляет элемент в общий список или обновляет статистику.

incrementProcessed() — увеличивает счётчик обработанных элементов.

isAlreadyProcessed(String key) — проверяет, обрабатывался ли элемент (чтобы не дублировать работу).

– Эти операции должны быть защищены от гонки данных, и их выполнение должно быть синхронизировано, чтобы избежать ошибок при одновременном доступе нескольких потоков.

Защита от гонки данных:
 Используйте ключевое слово synchronized для синхронизации доступа к методам. Это обеспечит, что операции изменения баланса будут атомарными.

 Убедитесь, что при выполнении операций изменение баланса будет происходить без вмешательства других потоков, обеспечивая корректность и безопасность данных.

Использование wait(), notify(), notifyAll():
 Если на данные не готовы, поток должен ожидать, пока другие потоки не прекратят работу.

 Реализуйте это с использованием метода wait() для блокировки потока и notify() или notifyAll() для уведомления других потоков, когда данные в структуре изменятся.

 notifyAll() обеспечит, что все потоки, ожидающие изменений, будут уведомлены, когда ресурс станет доступаным.

Предотвращение deadlock:
 Реализуйте предотвращение взаимных блокировок (deadlock). Для этого следите за порядком захвата ресурсов. Например, если два потока пытаются заблокировать два разных ресурса (например, аккаунты), важно, чтобы они всегда захватывали ресурсы в одном и том же порядке.

 Для предотвращения deadlock также можно использовать тайм-ауты или другие механизмы управления блокировками.

Тестирование и производительность:
 Создайте несколько потоков, выполняющих операции записи и чтения данных.

 Проведите нагрузочное тестирование, запустив несколько потоков одновременно, чтобы убедиться в корректности работы синхронизации.

 Сравните производительность синхронизированных и несинхронизированных блоков, измеряя время выполнения операций перевода средств.

Чек-лист самопроверки:

Реализована система DataCollector с поддержкой многопоточности.

Защищено от гонки данных с использованием синхронизации.

Применены методы wait(), notify(), notifyAll() для управления потоками.

Устранены проблемы deadlock.

Проведено тестирование на корректность работы многопоточных операций.

Составлен отчет с описанием каждого этапа выполнения задания.

Ссылка на отчет прикреплена в личном кабинете.

Оформление отчёта:
Составьте отчет, в котором:
 Описание каждого этапа выполнения задания.
 Промежуточные результаты (например, выводы по производительности для синхронизированных и обычных блоков).
 Объяснение использованных методов синхронизации и предотвращения deadlock.
 Примеры корректных и некорректных ситуаций с многопоточными операциями перевода.
 Итоговые выводы о применении синхронизации для безопасной работы с многопоточными приложениями.

Ссылку на отчет прикрепите в личном кабинете на платформе.
